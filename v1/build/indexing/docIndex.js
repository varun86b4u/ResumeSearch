/*! resume 2015-11-19 */
var fileReader=require("./fileReader"),esIndex=require("../es/esIndex"),config=require("../config/config"),mapping=require("./mapping"),filePath=config.resumeFolderPath,indexName=config.es.indexName,indexType=config.es.indexType,startIndexing=function(a){fileReader.readFilesFromDir(filePath,a,function(a,b){createIndexAndMapping(function(){esIndex.addDocsToIndex(indexName,indexType,b,function(){})})})},createIndexAndMapping=function(a){esIndex.createIndex(indexName,indexType,mapping,function(b,c){a(b,c)})},checkIndexExists=function(a){esIndex.indexExists(indexName,function(b,c,d){a(b,c)})};module.exports={startIndexing:startIndexing,createIndexAndMapping:createIndexAndMapping,checkIndexExists:checkIndexExists};